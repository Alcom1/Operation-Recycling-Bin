{
  "version": 3,
  "sources": ["C:\\Users\\Alcom\\Desktop\\Dev\\Git\\Operation Recycling Bin\\src\\game\\gameobjects\\bricktiletop.ts"],
  "sourcesContent": ["import { Point } from \"engine/utilities/vect\";\r\nimport BrickTile, { BrickTileParams } from \"./bricktile\";\r\nimport Sprite, { SpriteParams } from \"./sprite\";\r\n\r\nexport interface BrickTileTopParams extends BrickTileParams {\r\n    imageTop : string\r\n    isShowTopIfOn? : boolean\r\n}\r\n\r\n/** Tile with a top plate, like a jump */\r\nexport default class BrickTileTop extends BrickTile {\r\n\r\n    private topSprite : Sprite;             // The sprite to be shown on top of this brick\r\n    private isShowTopIfOn : boolean = true; // If the top sprite should be active for the ON or OFF state.\r\n\r\n    /** Constructor */\r\n    constructor(params: BrickTileTopParams) {\r\n        super(Object.assign(params, { width : 2 }));\r\n\r\n        // Create top sprite\r\n        this.topSprite = this.parent.pushGO(\r\n            new Sprite({\r\n                    ...params,\r\n                    tags: [\"Misc\"],\r\n                    position : this.gpos.getAdd({x : 0, y : -1}),   // Top sprite is 1 grid above this brick\r\n                    image : params.imageTop,\r\n                    size : { x : params.width ?? 2, y : 0 }\r\n                } as SpriteParams)) as Sprite\r\n\r\n        this.isShowTopIfOn = params.isShowTopIfOn ?? true;          // Top sprite show condition\r\n        this.topSprite.isActive = this.isOn == this.isShowTopIfOn;  // Deactivate top sprite if it starts hidden\r\n    }\r\n\r\n    /** Selecting a tile turns it on. */\r\n    public select(pos : Point) {\r\n        super.select(pos);\r\n\r\n        this.setOnOff(true);\r\n    }\r\n\r\n    /** Deselecting a tile moves the top sprite to match its position*/\r\n    public deselect() {\r\n        super.deselect();\r\n\r\n        this.topSprite.gpos = this.gpos.getAdd({x : 0, y : -1});\r\n    }\r\n\r\n    /** Set on/off state and top plate to match */\r\n    public setOnOff(state : boolean) {\r\n        super.setOnOff(state);\r\n\r\n        this.topSprite.isActive = state == this.isShowTopIfOn;\r\n    }\r\n}\r\n"],
  "mappings": "AACA;AACA;AAFA,0CAU0C;AAAA,EAMtC,YAAY;AACR,UAAM,OAAO,OAAO,QAAQ,CAAE,OAAQ;AAJlC,yBAA0B;AAO9B,SAAK,YAAY,KAAK,OAAO,OACzB,IAAI,OAAO;AAAA,SACA;AAAA,MACH,MAAM,CAAC;AAAA,MACP,UAAW,KAAK,KAAK,OAAO,CAAC,GAAI,GAAG,GAAI;AAAA,MACxC,OAAQ,OAAO;AAAA,MACf,MAAO,CAAE,GAAI,OAAO,SAAS,GAAG,GAAI;AAAA;AAGhD,SAAK,gBAAgB,OAAO,iBAAiB;AAC7C,SAAK,UAAU,WAAW,KAAK,QAAQ,KAAK;AAAA;AAAA,EAIzC;AACH,UAAM,OAAO;AAEb,SAAK,SAAS;AAAA;AAAA,EAIX;AACH,UAAM;AAEN,SAAK,UAAU,OAAO,KAAK,KAAK,OAAO,CAAC,GAAI,GAAG,GAAI;AAAA;AAAA,EAIhD;AACH,UAAM,SAAS;AAEf,SAAK,UAAU,WAAW,SAAS,KAAK;AAAA;AAAA;",
  "names": []
}
