{
  "version": 3,
  "sources": ["C:\\Users\\Alcom\\Desktop\\Dev\\Git\\Operation Recycling Bin\\src\\game\\gameobjects\\bricktilehot.ts"],
  "sourcesContent": ["import { Collider } from \"engine/modules/collision\";\r\nimport { MASKS } from \"engine/utilities/math\";\r\nimport Anim, { AnimationParams } from \"./anim\";\r\nimport BrickTile, { BrickTileParams } from \"./bricktile\";\r\n\r\n/** Specifications of a hot tile */\r\nconst BrickTileHotOverride = Object.freeze({\r\n    images : [\"brick_tile\", \"brick_tile_hot\"],\r\n    width : 4\r\n});\r\n\r\n/** A tile with a HOT effect */\r\nexport default class BrickTileHot extends BrickTile {\r\n\r\n    private animation: Anim;    // Tile is animated\r\n\r\n    /** z-index get/setters */\r\n    get zIndex() : number { return super.zIndex; }\r\n    set zIndex(value : number) { \r\n        super.zIndex = value; \r\n        this.animation.zIndex = value;\r\n    }\r\n\r\n    /** Constructor */\r\n    constructor(params: BrickTileParams) {\r\n        super(Object.assign(params, BrickTileHotOverride));\r\n\r\n        this.animation = this.parent.pushGO(new Anim({\r\n            ...params,\r\n            subPosition : { x : 0, y : -25 },       // For some reason, this animation appears super low by default.\r\n            images : [{ name : \"brick_tile_hot\" }], // Single hotplate animation image\r\n            speed : 2,                              // Hotplate animation is weirdly fast\r\n            frameCount : 7,\r\n            isVert : true                           // Hotplate animation frames are stacked vertically\r\n        } as AnimationParams)) as Anim;\r\n\r\n        this.animation.isActive == this.isOn;       // Animation only applies to active hot tiles\r\n    }\r\n    \r\n    /** draw off tile */\r\n    public draw(ctx : CanvasRenderingContext2D) {\r\n\r\n        if (!this.isOn) {       // Tile is off\r\n            super.draw(ctx);    // Draw the off tile instead of the animation\r\n        }\r\n    }\r\n\r\n    /** Get hazard and passive colliders of this brick. */\r\n    public getColliders() : Collider[] {\r\n\r\n        // Combine with passive collider from base class\r\n        return super.getColliders().concat(this.isOn ? [{// Only return hazard hitbox if this plate is on.\r\n            mask : MASKS.death,\r\n            min : this.gpos.getAdd({ x : 1,              y : -1}),\r\n            max : this.gpos.getAdd({ x : this.width - 1, y :  0}) \r\n        }] : []);\r\n    }\r\n}"],
  "mappings": "AACA;AACA;AACA;AAGA,MAAM,uBAAuB,OAAO,OAAO;AAAA,EACvC,QAAS,CAAC,cAAc;AAAA,EACxB,OAAQ;AAAA;AARZ,0CAY0C;AAAA,MAKlC;AAAoB,WAAO,MAAM;AAAA;AAAA,MACjC;AACA,UAAM,SAAS;AACf,SAAK,UAAU,SAAS;AAAA;AAAA,EAI5B;AACI,UAAM,OAAO,OAAO,QAAQ;AAE5B,SAAK,YAAY,KAAK,OAAO,OAAO,IAAI,KAAK;AAAA,SACtC;AAAA,MACH,aAAc,CAAE,GAAI,GAAG,GAAI;AAAA,MAC3B,QAAS,CAAC,CAAE,MAAO;AAAA,MACnB,OAAQ;AAAA,MACR,YAAa;AAAA,MACb,QAAS;AAAA;AAGb,SAAK,UAAU,YAAY,KAAK;AAAA;AAAA,EAI7B;AAEH,QAAI,CAAC,KAAK;AACN,YAAM,KAAK;AAAA;AAAA;AAAA,EAKZ;AAGH,WAAO,MAAM,eAAe,OAAO,KAAK,OAAO,CAAC;AAAA,MAC5C,MAAO,MAAM;AAAA,MACb,KAAM,KAAK,KAAK,OAAO,CAAE,GAAI,GAAgB,GAAI;AAAA,MACjD,KAAM,KAAK,KAAK,OAAO,CAAE,GAAI,KAAK,QAAQ,GAAG,GAAK;AAAA,SACjD;AAAA;AAAA;",
  "names": []
}
