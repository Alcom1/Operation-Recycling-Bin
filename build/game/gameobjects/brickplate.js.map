{
  "version": 3,
  "sources": ["C:\\Users\\Alcom\\Desktop\\Dev\\Git\\Operation Recycling Bin\\src\\game\\gameobjects\\brickplate.ts"],
  "sourcesContent": ["import Engine from \"engine/engine\";\r\nimport GameObject, { GameObjectParams } from \"engine/gameobjects/gameobject\";\r\nimport { Collider } from \"engine/modules/collision\";\r\nimport Animat, { AnimationParams } from \"./animation\";\r\nimport Brick, { BrickParams } from \"./brick\";\r\n\r\nexport interface BrickPlateParams extends BrickParams {\r\n    isOn: boolean;\r\n}\r\n\r\n\r\nexport default class BrickPlate extends Brick {\r\n\r\n    private isOn : boolean;\r\n    private animation: Animat;\r\n\r\n    constructor(engine: Engine, params: BrickPlateParams) {\r\n        super(engine, {...params, ...{ width : 4 }});\r\n\r\n        this.isOn = params.isOn;\r\n        this.image = this.engine.library.getImage(\"brick_plate\");\r\n\r\n        //this.parent.pushGO(\r\n        this.animation = this.parent.pushGO(new Animat(this.engine, {\r\n            ...params,\r\n            subPosition : { x : 0, y : -25 },                       //For some reason, this animation appears super low by default.\r\n            zModifier : 40,                                         //Z-index modifier of a 4-width brick\r\n            images : [{ name : \"brick_plate_hot\", offsetX : 0 }],   //Single hotplate animation image\r\n            speed : 2,                                              //Hotplate animation is weirdly fast\r\n            framesSize : 55,\r\n            frameCount : 7,\r\n            isVert : true                                           //Hotplate animation frames are stacked vertically\r\n        } as AnimationParams)) as Animat;\r\n\r\n        this.animation.isActive == this.isOn;\r\n    }\r\n    \r\n    //draw nothing\r\n    public draw(ctx : CanvasRenderingContext2D) {\r\n        if(!this.isOn) {\r\n            super.draw(ctx);\r\n        }\r\n    }\r\n\r\n    //Get hazard and passive colliders of this brick.\r\n    public getColliders() : Collider[] {\r\n        return [{ \r\n            mask : 0,               //Passive\r\n            min : this.gpos.getAdd({ x : 0,              y : -1}),\r\n            max : this.gpos.getAdd({ x : this.width,     y :  2}) \r\n        }].concat(this.isOn ? [{    //Only return hazard hitbox if this plate is on.\r\n            mask : 0b100,           //Hazard\r\n            min : this.gpos.getAdd({ x : 1,              y : -1}),\r\n            max : this.gpos.getAdd({ x : this.width - 1, y :  0}) \r\n        }] : []);\r\n    }\r\n}"],
  "mappings": "AAGA;AACA;AAJA,wCAWwC;AAAA,EAKpC,YAAY;AACR,UAAM,SAAQ,IAAI,WAAW,CAAE,OAAQ;AAEvC,SAAK,OAAO,OAAO;AACnB,SAAK,QAAQ,KAAK,OAAO,QAAQ,SAAS;AAG1C,SAAK,YAAY,KAAK,OAAO,OAAO,IAAI,OAAO,KAAK,QAAQ;AAAA,SACrD;AAAA,MACH,aAAc,CAAE,GAAI,GAAG,GAAI;AAAA,MAC3B,WAAY;AAAA,MACZ,QAAS,CAAC,CAAE,MAAO,mBAAmB,SAAU;AAAA,MAChD,OAAQ;AAAA,MACR,YAAa;AAAA,MACb,YAAa;AAAA,MACb,QAAS;AAAA;AAGb,SAAK,UAAU,YAAY,KAAK;AAAA;AAAA,EAI7B;AACH,QAAG,CAAC,KAAK;AACL,YAAM,KAAK;AAAA;AAAA;AAAA,EAKZ;AACH,WAAO,CAAC;AAAA,MACJ,MAAO;AAAA,MACP,KAAM,KAAK,KAAK,OAAO,CAAE,GAAI,GAAgB,GAAI;AAAA,MACjD,KAAM,KAAK,KAAK,OAAO,CAAE,GAAI,KAAK,OAAW,GAAK;AAAA,OACnD,OAAO,KAAK,OAAO,CAAC;AAAA,MACnB,MAAO;AAAA,MACP,KAAM,KAAK,KAAK,OAAO,CAAE,GAAI,GAAgB,GAAI;AAAA,MACjD,KAAM,KAAK,KAAK,OAAO,CAAE,GAAI,KAAK,QAAQ,GAAG,GAAK;AAAA,SACjD;AAAA;AAAA;",
  "names": []
}
