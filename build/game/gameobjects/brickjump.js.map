{
  "version": 3,
  "sources": ["C:\\Users\\Alcom\\Desktop\\Dev\\Git\\Operation Recycling Bin\\src\\game\\gameobjects\\brickjump.ts"],
  "sourcesContent": ["import { Collider } from \"engine/modules/collision\";\r\nimport { Point } from \"engine/utilities/vect\";\r\nimport { BrickPlateParams } from \"./brickplate\";\r\nimport BrickPlateTop from \"./brickplatetop\";\r\n\r\nconst brickJumpOverride = Object.freeze({\r\n    images : [\"brick_jump_up\", \"brick_jump\"],\r\n    imageTop : \"brick_jump_top\",\r\n    isOnTop : false,\r\n    width : 2,\r\n    isOn : true\r\n});\r\n\r\nexport default class BrickJump extends BrickPlateTop {\r\n\r\n    private timer : number = 0;\r\n    private offDuration : number = 0.1;\r\n    private timer2 : number = 0;\r\n    private offDuration2 : number = 1.2;\r\n\r\n    constructor(params: BrickPlateParams) {\r\n        super(Object.assign({}, brickJumpOverride, params));\r\n    }\r\n\r\n    public update(dt : number) {\r\n\r\n        if(this.timer2 > 0) {\r\n            this.timer2 -= dt;\r\n        }\r\n        else {\r\n            this.timer2 = 0;\r\n        }\r\n\r\n        if(this.timer > 0) {\r\n            this.timer -= dt;\r\n        }\r\n        else {\r\n            this.timer = 0;\r\n            this.setOnOff(true);\r\n        }\r\n    }\r\n\r\n    //Get hazard and passive colliders of this brick.\r\n    public getColliders() : Collider[] {\r\n\r\n        //Combine with passive collider from base class, only return jump hitbox if this plate is on and not selected\r\n        return super.getColliders().concat(this.isOn && this.timer2 == 0 && !this.isSelected ? [{\r\n            mask : 0b1000000,   //Jump\r\n            min : this.gpos.getAdd({ x : 0,          y : -1}),\r\n            max : this.gpos.getAdd({ x : this.width, y :  0}) \r\n        }] : []);\r\n    }\r\n\r\n    //Turn off\r\n    public resolveCollision(mask : number) {\r\n\r\n        //Turn off\r\n        if (mask & 0b1000000) {\r\n            this.setOnOff(false);\r\n            this.timer = this.offDuration;\r\n            this.timer2 = this.offDuration2;\r\n        }\r\n    }\r\n}\r\n"],
  "mappings": "AAGA;AAEA,MAAM,oBAAoB,OAAO,OAAO;AAAA,EACpC,QAAS,CAAC,iBAAiB;AAAA,EAC3B,UAAW;AAAA,EACX,SAAU;AAAA,EACV,OAAQ;AAAA,EACR,MAAO;AAAA;AAVX,uCAauC;AAAA,EAOnC;AACI,UAAM,OAAO,OAAO,IAAI,mBAAmB;AANvC,iBAAiB;AACjB,uBAAuB;AACvB,kBAAkB;AAClB,wBAAwB;AAAA;AAAA,EAMzB;AAEH,QAAG,KAAK,SAAS;AACb,WAAK,UAAU;AAAA;AAGf,WAAK,SAAS;AAAA;AAGlB,QAAG,KAAK,QAAQ;AACZ,WAAK,SAAS;AAAA;AAGd,WAAK,QAAQ;AACb,WAAK,SAAS;AAAA;AAAA;AAAA,EAKf;AAGH,WAAO,MAAM,eAAe,OAAO,KAAK,QAAQ,KAAK,UAAU,KAAK,CAAC,KAAK,aAAa,CAAC;AAAA,MACpF,MAAO;AAAA,MACP,KAAM,KAAK,KAAK,OAAO,CAAE,GAAI,GAAY,GAAI;AAAA,MAC7C,KAAM,KAAK,KAAK,OAAO,CAAE,GAAI,KAAK,OAAO,GAAK;AAAA,SAC7C;AAAA;AAAA,EAIF;AAGH,QAAI,OAAO;AACP,WAAK,SAAS;AACd,WAAK,QAAQ,KAAK;AAClB,WAAK,SAAS,KAAK;AAAA;AAAA;AAAA;",
  "names": []
}
