{
  "version": 3,
  "sources": ["C:\\Users\\Alcom\\Desktop\\Dev\\Git\\Operation Recycling Bin\\src\\game\\gameobjects\\charactergearground.ts"],
  "sourcesContent": ["import GameObject, { Collision } from \"engine/gameobjects/gameobject\";\r\nimport { RING_BITSTACK as gcb, MASKS } from \"engine/utilities/math\";\r\nimport { Point } from \"engine/utilities/vect\";\r\nimport { CharacterParams } from \"./character\";\r\nimport CharacterGear, { GearState } from \"./charactergear\";\r\n\r\n/** Specifications of a grounded gearbot */\r\nconst CharacterGearGroundOverride = Object.freeze({\r\n    height: 2,\r\n    speed : 5.0,\r\n    animMain : {\r\n        images : [        \r\n            { name : \"char_rbg_left\", offsetX : 0 },\r\n            { name : \"char_rbg_right\", offsetX : 0}],\r\n        frameCount : 2,\r\n        animsCount : 1\r\n    },\r\n    isGlide : true,\r\n    animsMisc : [{\r\n            speed : 5.0,\r\n            images : [{ name : \"char_rbg_stop\", offsetX : 0 }],\r\n            frameCount : 2,\r\n            gposOffset : { x : -3, y : 0}\r\n        },{\r\n            speed : 3.0,\r\n            images : [\r\n                { name : \"char_rbg_left\", offsetX : 0 },\r\n                { name : \"char_rbg_right\", offsetX : 0}],\r\n            frameCount : 2,\r\n            gposOffset : { x : -3, y : 0}\r\n        }]\r\n});\r\n\r\n/**A normal grounded gearbot */\r\nexport default class CharacterGearGround extends CharacterGear {\r\n\r\n    /** Constructor */\r\n    constructor(params: CharacterParams) {\r\n        super(Object.assign(params, CharacterGearGroundOverride));\r\n    }\r\n\r\n    /** */\r\n    public handleStepUpdate(proxs : Point[]) {\r\n        super.handleStepUpdate(proxs);\r\n\r\n        switch(this.stateIndex) {\r\n\r\n            case GearState.NORMAL :\r\n                if (this.isColFace || !this.isColLand) {\r\n\r\n                    if (this.isColBack || !this.isColBand) {\r\n\r\n                        this.setStateIndex(GearState.STOP);\r\n                    }\r\n                    else {\r\n\r\n                        this.reverse();\r\n                        this.setStateIndex(GearState.WAIT);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case GearState.STOP :\r\n            case GearState.WAIT :\r\n                if (!this.isColFace && this.isColLand) {\r\n                    this.setStateIndex(GearState.NORMAL);\r\n                }\r\n                else if (!this.isColBack && this.isColBand) {\r\n                    this.reverse();\r\n                    this.setStateIndex(GearState.NORMAL);\r\n                }\r\n                else {\r\n                    this.setStateIndex(GearState.STOP);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n}"],
  "mappings": "AAIA;AAGA,MAAM,8BAA8B,OAAO,OAAO;AAAA,EAC9C,QAAQ;AAAA,EACR,OAAQ;AAAA,EACR,UAAW;AAAA,IACP,QAAS;AAAA,MACL,CAAE,MAAO,iBAAiB,SAAU;AAAA,MACpC,CAAE,MAAO,kBAAkB,SAAU;AAAA;AAAA,IACzC,YAAa;AAAA,IACb,YAAa;AAAA;AAAA,EAEjB,SAAU;AAAA,EACV,WAAY,CAAC;AAAA,IACL,OAAQ;AAAA,IACR,QAAS,CAAC,CAAE,MAAO,iBAAiB,SAAU;AAAA,IAC9C,YAAa;AAAA,IACb,YAAa,CAAE,GAAI,IAAI,GAAI;AAAA,KAC7B;AAAA,IACE,OAAQ;AAAA,IACR,QAAS;AAAA,MACL,CAAE,MAAO,iBAAiB,SAAU;AAAA,MACpC,CAAE,MAAO,kBAAkB,SAAU;AAAA;AAAA,IACzC,YAAa;AAAA,IACb,YAAa,CAAE,GAAI,IAAI,GAAI;AAAA;AAAA;AA7BvC,iDAkCiD;AAAA,EAG7C;AACI,UAAM,OAAO,OAAO,QAAQ;AAAA;AAAA,EAIzB;AACH,UAAM,iBAAiB;AAEvB,YAAO,KAAK;AAAA,WAEH,UAAU;AACX,YAAI,KAAK,aAAa,CAAC,KAAK;AAExB,cAAI,KAAK,aAAa,CAAC,KAAK;AAExB,iBAAK,cAAc,UAAU;AAAA;AAI7B,iBAAK;AACL,iBAAK,cAAc,UAAU;AAAA;AAAA;AAGrC;AAAA,WAEC,UAAU;AAAA,WACV,UAAU;AACX,YAAI,CAAC,KAAK,aAAa,KAAK;AACxB,eAAK,cAAc,UAAU;AAAA,mBAExB,CAAC,KAAK,aAAa,KAAK;AAC7B,eAAK;AACL,eAAK,cAAc,UAAU;AAAA;AAG7B,eAAK,cAAc,UAAU;AAAA;AAEjC;AAAA;AAAA;AAAA;",
  "names": []
}
