{
  "version": 3,
  "sources": ["C:\\Users\\Alcom\\Desktop\\Dev\\Git\\Operation Recycling Bin\\src\\game\\gameobjects\\bricksuper.ts"],
  "sourcesContent": ["import Engine from \"engine/engine\";\r\nimport { GameObjectParams } from \"engine/gameobjects/gameobject\";\r\nimport { Collider } from \"engine/modules/collision\";\r\nimport { getZIndex, GMULTY } from \"engine/utilities/math\";\r\nimport BrickPlate, { BrickPlateParams } from \"./brickplate\";\r\nimport Sprite, { SpriteParams } from \"./sprite\";\r\n\r\nconst brickSuperOverride = Object.freeze({\r\n    images : [\"brick_super_off\", \"brick_super\"],\r\n    width : 2,\r\n    isOn : true\r\n});\r\n\r\nexport default class BrickSuper extends BrickPlate {\r\n\r\n    private topSprite : Sprite;\r\n\r\n    constructor(engine: Engine, params: BrickPlateParams) {\r\n        super(engine, Object.assign(params, brickSuperOverride));\r\n\r\n        var topGPos = this.gpos.getAdd({x : 0, y : -1})\r\n\r\n        this.topSprite = this.parent.pushGO(\r\n            new Sprite(\r\n                engine,\r\n                {\r\n                    ...params,\r\n                    position : topGPos,\r\n                    zIndex : getZIndex(topGPos, -1),\r\n                    image : \"brick_super_top\"\r\n                } as SpriteParams)) as Sprite\r\n    }\r\n\r\n    //Get hazard and passive colliders of this brick.\r\n    public getColliders() : Collider[] {\r\n\r\n        //Combine with passive collider from base class\r\n        return super.getColliders().concat(this.isOn ? [{ //Only return super hitbox if this plate is on.\r\n            mask : 0b10000,           //Super\r\n            min : this.gpos.getAdd({ x : 0,          y : -1}),\r\n            max : this.gpos.getAdd({ x : this.width, y :  0}) \r\n        }] : []);\r\n    }\r\n\r\n    //Explode\r\n    public resolveCollision(mask : number) {\r\n\r\n        //Turn off\r\n        if (mask & 0b10000) {\r\n            this.isOn = false;\r\n            this.image = this.images[+this.isOn];\r\n            this.topSprite.isActive = false;\r\n        }\r\n    }\r\n}\r\n"],
  "mappings": "AAGA;AACA;AACA;AAEA,MAAM,qBAAqB,OAAO,OAAO;AAAA,EACrC,QAAS,CAAC,mBAAmB;AAAA,EAC7B,OAAQ;AAAA,EACR,MAAO;AAAA;AAVX,wCAawC;AAAA,EAIpC;AACI,UAAM,SAAQ,OAAO,OAAO,QAAQ;AAEpC,kBAAc,KAAK,KAAK,OAAO,CAAC,GAAI,GAAG,GAAI;AAE3C,SAAK,YAAY,KAAK,OAAO,OACzB,IAAI,OACA,SACA;AAAA,SACO;AAAA,MACH,UAAW;AAAA,MACX,QAAS,UAAU,SAAS;AAAA,MAC5B,OAAQ;AAAA;AAAA;AAAA,EAKjB;AAGH,WAAO,MAAM,eAAe,OAAO,KAAK,OAAO,CAAC;AAAA,MAC5C,MAAO;AAAA,MACP,KAAM,KAAK,KAAK,OAAO,CAAE,GAAI,GAAY,GAAI;AAAA,MAC7C,KAAM,KAAK,KAAK,OAAO,CAAE,GAAI,KAAK,OAAO,GAAK;AAAA,SAC7C;AAAA;AAAA,EAIF;AAGH,QAAI,OAAO;AACP,WAAK,OAAO;AACZ,WAAK,QAAQ,KAAK,OAAO,CAAC,KAAK;AAC/B,WAAK,UAAU,WAAW;AAAA;AAAA;AAAA;",
  "names": []
}
