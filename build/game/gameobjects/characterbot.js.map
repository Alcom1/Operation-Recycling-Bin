{
  "version": 3,
  "sources": ["C:\\Users\\Alcom\\Desktop\\Dev\\Git\\Operation Recycling Bin\\src\\game\\gameobjects\\characterbot.ts"],
  "sourcesContent": ["import Scene from \"engine/scene/scene\";\r\nimport Character from \"./character\";\r\nimport { BOUNDARY, GMULTX, GMULTY } from \"engine/utilities/math\";\r\nimport Vect, { Point } from \"engine/utilities/vect\";\r\n\r\nexport default class CharacterBot extends Character {\r\n    private sceneName: string | null = null;\r\n\r\n    public init(ctx: CanvasRenderingContext2D): void {\r\n        super.init(ctx);\r\n    }\r\n\r\n    protected handleCollision() {\r\n\r\n        //Collision bitmask\r\n        let cbm = this.brickHandler.checkCollisionSuper(\r\n            this.gpos.getSub(new Vect(this.move.x > 0 ? 1 : 0, this.size.y + 1)),   //Position\r\n            this.size.y + 1,                                                        //Start\r\n            2 * (this.size.y + 3),                                                  //Final\r\n            this.size.y + 3,                                                        //Height\r\n            this.move.x);                                                           //Direction\r\n\r\n        // var qq = \"\"\r\n\r\n        // for(let i = 0; i < 8; i++) {\r\n        //     if(c & 1 << i) {\r\n        //         qq += i + \" \";\r\n        //     }\r\n        // }\r\n\r\n        // console.log(qq);\r\n        \r\n        //WALL BOUNDARY\r\n        if(\r\n            this.gpos.x - 1 < BOUNDARY.minx || \r\n            this.gpos.x + 1 > BOUNDARY.maxx) {\r\n\r\n            this.move.x *= -1;\r\n            this.gpos.x += this.move.x;\r\n        }\r\n        else {\r\n\r\n            //WALL - REVERSE\r\n            if(cbm & 0b000110000) {\r\n                this.move.x *= -1;\r\n                this.gpos.x += this.move.x;\r\n            }\r\n            //HEAD-WALL - REVERSE\r\n            else if(cbm & 0b000001000 && cbm & 0b010000001) {\r\n                this.move.x *= -1;\r\n                this.gpos.x += this.move.x;\r\n            }\r\n            //UP-STEP - GO UP\r\n            else if(cbm & 0b001000000) {\r\n\r\n                //BLOCKED BY HEADBRICK\r\n                if(cbm & 0b000000100) {\r\n                    this.move.x *= -1;\r\n                    this.gpos.x += this.move.x;\r\n                }\r\n                else {\r\n                    this.gpos.y -= 1;\r\n                }\r\n            }\r\n            //FLOOR - DO NOTHING\r\n            else if(cbm & 0b010000001) {\r\n\r\n            }\r\n            //DOWN-STEP - GO DOWN\r\n            else if(cbm & 0b100000010) {\r\n                this.gpos.y += 1;\r\n            }\r\n            //VOID - REVERSE\r\n            else {\r\n                this.move.x *= -1;\r\n                this.gpos.x += this.move.x;\r\n            }\r\n        }\r\n    }\r\n\r\n    public draw(ctx: CanvasRenderingContext2D) {\r\n\r\n        ctx.globalAlpha = 0.5;\r\n        ctx.strokeStyle = \"#F00\"\r\n        ctx.lineWidth = 4;\r\n        ctx.strokeRect(\r\n           -GMULTX, \r\n            GMULTY, \r\n            this.size.x * GMULTX, \r\n           -this.size.y * GMULTY);\r\n\r\n        ctx.translate(-this.spos.x, 0);\r\n        \r\n        ctx.fillStyle = \"#FF0\"\r\n        ctx.beginPath();\r\n        ctx.moveTo(-GMULTX * this.size.x / 2, GMULTY);\r\n        ctx.lineTo(-GMULTX * this.size.x / 2, GMULTY - this.size.y * GMULTY + (this.move.x < 0 ? 1 : 0) * GMULTY);\r\n        ctx.lineTo(                        0, GMULTY - this.size.y * GMULTY);\r\n        ctx.lineTo( GMULTX * this.size.x / 2, GMULTY - this.size.y * GMULTY + (this.move.x > 0 ? 1 : 0) * GMULTY);\r\n        ctx.lineTo( GMULTX * this.size.x / 2, GMULTY);\r\n        ctx.fill();\r\n    }\r\n}\r\n"],
  "mappings": "AACA;AACA;AACA;AAHA,0CAK0C;AAAA,EAL1C;AAAA;AAMY,qBAA2B;AAAA;AAAA,EAE5B,KAAK;AACR,UAAM,KAAK;AAAA;AAAA,EAGL;AAGN,cAAU,KAAK,aAAa,oBACxB,KAAK,KAAK,OAAO,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,GAAG,KAAK,KAAK,IAAI,KACjE,KAAK,KAAK,IAAI,GACd,IAAK,MAAK,KAAK,IAAI,IACnB,KAAK,KAAK,IAAI,GACd,KAAK,KAAK;AAad,QACI,KAAK,KAAK,IAAI,IAAI,SAAS,QAC3B,KAAK,KAAK,IAAI,IAAI,SAAS;AAE3B,WAAK,KAAK,KAAK;AACf,WAAK,KAAK,KAAK,KAAK,KAAK;AAAA;AAKzB,UAAG,MAAM;AACL,aAAK,KAAK,KAAK;AACf,aAAK,KAAK,KAAK,KAAK,KAAK;AAAA,iBAGrB,MAAM,KAAe,MAAM;AAC/B,aAAK,KAAK,KAAK;AACf,aAAK,KAAK,KAAK,KAAK,KAAK;AAAA,iBAGrB,MAAM;AAGV,YAAG,MAAM;AACL,eAAK,KAAK,KAAK;AACf,eAAK,KAAK,KAAK,KAAK,KAAK;AAAA;AAGzB,eAAK,KAAK,KAAK;AAAA;AAAA,iBAIf,MAAM;AAAA,iBAIN,MAAM;AACV,aAAK,KAAK,KAAK;AAAA;AAIf,aAAK,KAAK,KAAK;AACf,aAAK,KAAK,KAAK,KAAK,KAAK;AAAA;AAAA;AAAA;AAAA,EAK9B;AAEH,QAAI,cAAc;AAClB,QAAI,cAAc;AAClB,QAAI,YAAY;AAChB,QAAI,WACD,CAAC,QACA,QACA,KAAK,KAAK,IAAI,QACf,CAAC,KAAK,KAAK,IAAI;AAElB,QAAI,UAAU,CAAC,KAAK,KAAK,GAAG;AAE5B,QAAI,YAAY;AAChB,QAAI;AACJ,QAAI,OAAO,CAAC,SAAS,KAAK,KAAK,IAAI,GAAG;AACtC,QAAI,OAAO,CAAC,SAAS,KAAK,KAAK,IAAI,GAAG,SAAS,KAAK,KAAK,IAAI,SAAU,MAAK,KAAK,IAAI,IAAI,IAAI,KAAK;AAClG,QAAI,OAA+B,GAAG,SAAS,KAAK,KAAK,IAAI;AAC7D,QAAI,OAAQ,SAAS,KAAK,KAAK,IAAI,GAAG,SAAS,KAAK,KAAK,IAAI,SAAU,MAAK,KAAK,IAAI,IAAI,IAAI,KAAK;AAClG,QAAI,OAAQ,SAAS,KAAK,KAAK,IAAI,GAAG;AACtC,QAAI;AAAA;AAAA;",
  "names": []
}
