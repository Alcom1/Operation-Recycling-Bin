{
  "version": 3,
  "sources": ["C:\\Users\\Alcom\\Desktop\\Dev\\Git\\Operation Recycling Bin\\src\\game\\gameobjects\\counter.ts"],
  "sourcesContent": ["import GameObject, { GameObjectParams } from \"engine/gameobjects/gameobject\";\r\nimport { GMULTX } from \"engine/utilities/math\";\r\nimport LevelSequence from \"./levelsequence\";\r\n\r\n/** Counter parameters */\r\ninterface CounterParams extends GameObjectParams {\r\n    fontFamily?: string;\r\n}\r\n\r\n/** Counter that keeps track of the move count */\r\nexport default class Counter extends GameObject {\r\n    private count : number = 0;         // Current count\r\n    private fontFamily: string = \"\";    // Font for count display\r\n    private par: number = 1;            // Current par\r\n    \r\n    /** Constructor */\r\n    constructor(params: CounterParams) {\r\n        super(params);\r\n\r\n        this.fontFamily = params.fontFamily ?? \"Font04b_08\";\r\n    }    \r\n    \r\n    /** Get current level and its par */\r\n    public init(): void {\r\n        this.par = (\r\n            this.engine.tag.get(\r\n                \"LevelSequence\", \r\n                \"Level\")[0] as LevelSequence).par;\r\n    }\r\n\r\n    /** Increment the move count (called when bricks are moved) */\r\n    public incrementCount() {\r\n        this.count++;\r\n    }\r\n\r\n    /** Draw the current count */\r\n    public draw(ctx: CanvasRenderingContext2D): void {\r\n        ctx.textAlign = \"right\";\r\n        \r\n        // Current score\r\n        ctx.fillStyle = \"#DD9C00\";\r\n        ctx.font = \"32px \" + this.fontFamily;\r\n        ctx.fillText(\"\" + this.count, GMULTX * 35 + 200, 450);\r\n        \r\n        // Par\r\n        ctx.fillStyle = \"#000\";\r\n        ctx.font = \"16px \" + this.fontFamily;\r\n        ctx.fillText(this.par + \" or fewer\", GMULTX * 35 + 203.5, 484);\r\n\r\n        // Par checkbox\r\n        if (this.par >= this.count) {\r\n            ctx.fillStyle = \"#FFCC00\"\r\n            ctx.fillRect(GMULTX * 35 + 56, 472, 12, 12);\r\n        }\r\n    }\r\n}"],
  "mappings": "AAAA;AACA;AADA,qCAUqC;AAAA,EAMjC,YAAY;AACR,UAAM;AANF,iBAAiB;AACjB,sBAAqB;AACrB,eAAc;AAMlB,SAAK,aAAa,OAAO,cAAc;AAAA;AAAA,EAIpC;AACH,SAAK,MACD,KAAK,OAAO,IAAI,IACZ,iBACA,SAAS,GAAqB;AAAA;AAAA,EAInC;AACH,SAAK;AAAA;AAAA,EAIF;AACH,QAAI,YAAY;AAGhB,QAAI,YAAY;AAChB,QAAI,OAAO,UAAU,KAAK;AAC1B,QAAI,SAAS,KAAK,KAAK,OAAO,SAAS,KAAK,KAAK;AAGjD,QAAI,YAAY;AAChB,QAAI,OAAO,UAAU,KAAK;AAC1B,QAAI,SAAS,KAAK,MAAM,aAAa,SAAS,KAAK,OAAO;AAG1D,QAAI,KAAK,OAAO,KAAK;AACjB,UAAI,YAAY;AAChB,UAAI,SAAS,SAAS,KAAK,IAAI,KAAK,IAAI;AAAA;AAAA;AAAA;",
  "names": []
}
